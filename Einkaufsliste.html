<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <link rel="stylesheet" href="Einkaufliste.css">
   
  </head>
  <body>


    <div class="box">

      <div class="header">
        <ul>
          <li>
            <a href="https://www.rewe.de/angebote/nationale-angebote/" target="_blank"><img src="Rewe-logo.png" class="rewe-logo" ></a>
          
          
            <a href="https://www.mueller.de/prospekte/" target="_blank"><img src="Müller-logo.png" class="müller-logo" >
            </a>
          
          
            <a class="headeroriginal">Zu gut zum Vergessen</a>
          
          
            <a href="https://dm.de-angebote.deals/?gclid=EAIaIQobChMIj53mjdnO5QIVFc93Ch0A5wyBEAAYASAAEgI5wfD_BwE" target="blank"><img src="Dm-logo.png" class="dm-logo"></a>
          
          
            <a href="https://www.aldi-sued.de/de/angebote/?pk_campaign=01_GEO_ALDI_Brand_Always_On_Exact[NEO]&pk_kwd=aldiangebotediesewoche" target="blank"><img src="aldi-logo.png" class="aldi-logo"></a>
          </li>
        </ul> 
        
      </div>


      <div class="content">
        <h1 class="contentheader" id="topic">Einkaufsliste</h1>
        <h2 class="contenteintagen" >
            <label >
                
                <form id="form" action="#" class="suchleistelinks">
                   + Eintragen<input type="text" size="120" class="cssdesign" id="itemName"
                   placeholder="+ Neue Position" 
                   onfocus="this.placeholder = ''" 
                   onblur="this.placeholder = '+ Neue Position'">
                   <button class="button1" type="submit"  >Eingabe</button> 
                   
                 </form>
               </label>
              </form>
            </label>
          </h2>
          <!--<div class="datumsanzeige">
            <h1 >Datumsauswahl</h1>
            <div class="field " >
              <label for="date">
                <span class="field-label">Wähle ein Datum:</span><br>
              </label>
              <input type="date" id="date" name="date" value="" placeholder="DD/MM/YYYY">
            </div>
          </div>-->
       
        <div class="contentinhalt" id="inhaltDerSeite" >
          <h1 class="contentÜberschrift" id="null">Das ist deine persönliche Einkaufsliste</h1>
          <label class="farbenauswahl" for="colorPicker">Wähle deine Hintergrund- Farbe:</label>
          <input type="color" value="#e0ffee" id="colorPicker">
          <code id="colorCode"></code></b>
          <ul id="listeintrag" class="contenterklärung"> 
             
            <li class="listeneinträge-Startseite" class="contenterklärung">
              <h3 class="startseiteheader">Startseite</h3>
              <p class="startseitetext"> Vergesse nie wieder ein Einkauf. Trage es ganz einfach in einer deiner Listen ein. Wähle auf der linken Seite eine liste aus und 
              trage ein was du benötigst. Klicke auf ein Markensymbol um die neuesten Aktionen zu sehen.
              <br>
              Das ist nicht alles. Niemand wird sein Laptop bei einkaufen dabei haben um die Liste aufzurufen. Und auf dem Smartphone macht es auch kein Spaß.
              Also bestllen sie doch einfach von Zuhause aus Online. Dies ist im Folgendem Viedo erklärt. 
              <br></p>
              <iframe width="560" height="315" src="https://www.youtube.com/embed/Z66a38IuHS4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="viedoanpassen"></iframe> 
              <i class="fas fa-trash" ></i>
              <i class="fas fa-check" ></i>
            </li>
            
          </ul> 
        </div>
      </div>

      <div class="sidebar" >
        <h2 class="sidebar-Header"> 
      Deine Listen</h2>
      <li id="null"class="sidebar-border" >Startseite<br><a  href="" class="any-linkleft" onmouseover="this.style.color='#0af0e0'" onmouseout="this.style.color='#FFFFFF'" >Auswählen</a></li>
      <li id="eins"class="sidebar-border" >Universal - Einkausliste<br><a  href="#1" class="any-linkleft" onmouseover="this.style.color='#0af0e0'" onmouseout="this.style.color='#FFFFFF'" >Auswählen</a></li>
      <li id="zwei"class="sidebar-border">Rewe - Einkausliste<br><a class="any-linkleft" href="#2"onmouseover="this.style.color='#0af0e0'" onmouseout="this.style.color='#FFFFFF'">Auswählen</a></li>
      <li id="drei"class="sidebar-border">Penny - Einkausliste<br><a class="any-linkleft" href="#3" onmouseover="this.style.color='#0af0e0'" onmouseout="this.style.color='#FFFFFF'">Auswählen</a></li>
      <li id="vier"class="sidebar-border">DM - Einkausliste<br><a class="any-linkleft" href="#4" onmouseover="this.style.color='#0af0e0'" onmouseout="this.style.color='#FFFFFF'">Auswählen</a></li>
      <li id="fuenf"class="sidebar-border">Aldi - Einkausliste<br><a class="any-linkleft" href="#5" onmouseover="this.style.color='#0af0e0'" onmouseout="this.style.color='#FFFFFF'">Auswählen</a></a></li>
      <li class="sidebar-neueListe">+ Neue Liste</a> </li>
      
      </div>
    </div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script> 
    <script>
      $(document).ready(function(){
              // .text()
              $("#eins").click(function(){ 
                $("#topic").text("Das ist deine Universale - Einkaufsliste"); // Der Inhalt von #topic wird durch den Inhalt von .text() ersetzt
              });

              $("#zwei").click(function(){ 
                $("#topic").text("Rewe - Einkaufsliste"); // Der Inhalt von #topic wird durch den Inhalt von .text() ersetzt
              });
              $("#drei").click(function(){ 
                $("#topic").text("Penny - Einkaufsliste"); // Der Inhalt von #topic wird durch den Inhalt von .text() ersetzt
              });
              $("#vier").click(function(){ 
                $("#topic").text("DM - Einkaufsliste"); // Der Inhalt von #topic wird durch den Inhalt von .text() ersetzt
              });
              $("#fuenf").click(function(){ 
                $("#topic").text("Aldi - Einkaufsliste"); // Der Inhalt von #topic wird durch den Inhalt von .text() ersetzt
              });
            });
    </script>
    <script>
      
      var listId = "";
      document.getElementById("eins").addEventListener('click',function(){
        listId = "5dbc552ced629e00171e2a27"; 
      });
      document.getElementById("zwei").addEventListener('click',function(){
        listId = "5db2b146e3d42a0017c30a1b"; 
      });
      document.getElementById("drei").addEventListener('click',function(){
        listId = "5daf699814fb6000179e69b3"; 
      });
      document.getElementById("vier").addEventListener('click',function(){
        listId = "5db2b150e3d42a0017c30a1c"; 
      });
      document.getElementById("fuenf").addEventListener('click',function(){
        listId = "5db2b154e3d42a0017c30a1d"; 
      });

        document.getElementById("form").addEventListener('submit', function() {
            var item = document.getElementById("itemName").value;
            var apiUrl = "https://shopping-lists-api.herokuapp.com/api/v1/lists/" + listId + "/items";
            fetch(apiUrl, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ name: item })
            }).then(res => res.json())
            .then(json => console.log(json));
        });

        document.getElementById("eins").addEventListener('click',function updateListe()
        {
            var apiUrl = "https://shopping-lists-api.herokuapp.com/api/v1/lists/" + listId;

            fetch(apiUrl, {Method: "GET"})
                .then(response => response.json())
                //.then(json => console.log(json))
                .then(showList)
                .catch(err => console.error(err))
        });
        document.getElementById("zwei").addEventListener('click',function updateListe()
        {
            var apiUrl = "https://shopping-lists-api.herokuapp.com/api/v1/lists/" + listId;

            fetch(apiUrl, {Method: "GET"})
                .then(response => response.json())
                //.then(json => console.log(json))
                .then(showList)
                .catch(err => console.error(err))
        });
        document.getElementById("drei").addEventListener('click',function updateListe()
        {
            var apiUrl = "https://shopping-lists-api.herokuapp.com/api/v1/lists/" + listId;

            fetch(apiUrl, {Method: "GET"})
                .then(response => response.json())
                //.then(json => console.log(json))
                .then(showList)
                .catch(err => console.error(err))
        });
        document.getElementById("vier").addEventListener('click',function updateListe()
        {
            var apiUrl = "https://shopping-lists-api.herokuapp.com/api/v1/lists/" + listId;

            fetch(apiUrl, {Method: "GET"})
                .then(response => response.json())
                //.then(json => console.log(json))
                .then(showList)
                .catch(err => console.error(err))
        });
        document.getElementById("fuenf").addEventListener('click',function updateListe()
        {
            var apiUrl = "https://shopping-lists-api.herokuapp.com/api/v1/lists/" + listId;

            fetch(apiUrl, {Method: "GET"})
                .then(response => response.json())
                //.then(json => console.log(json))
                .then(showList)
                .catch(err => console.error(err))
        });
        function showList (liste)
        {
            clearContent();
            
            var heading = document.createElement("h1");
            heading.textContent = liste.name;
            heading.id = liste._id;
            heading.className = "inhaltÜberschrift";

            document.getElementById("inhaltDerSeite").appendChild(heading);

            var ul = document.createElement("ul");

            liste.items.forEach(item => {
                
                var listItem = document.createElement("li");
                listItem.textContent = item.name;
                listItem.className = "listeneinträge";
                var Knopf = document.createElement("button");
                Knopf.textContent = "Löschen";
                var Buttoncheck = document.createElement("button");
                Buttoncheck.id = item._id;
                Buttoncheck.className = "actionButtons";
                Buttoncheck.name = "Buttoncheck";
                var imageButtoncheck = document.createElement("i");
                imageButtoncheck.className = "fas fa-circle";
                Buttoncheck.appendChild(imageButtoncheck);

                var Buttonchecked = document.createElement("button");
                Buttonchecked.id = item._id;
                Buttonchecked.className = "actionButtons";
                Buttonchecked.name = "Buttonchecked";
                var imageButtonchecked = document.createElement("i");
                imageButtonchecked.className = "fas fa-check-circle";
                Buttonchecked.appendChild(imageButtonchecked);
                
                //var Schrift = document.createElement("p");
                //Schrift.textContent = "Erledigt?"
                Knopf.addEventListener('click',function deletos()
                {
                    console.log(item._id)
                    console.log(listId)
                    var apiUrl2 = "https://shopping-lists-api.herokuapp.com/api/v1/lists/" + listId + "/items/"+ item._id;
                    fetch(apiUrl2, {method: 'DELETE',
                      headers:
                        {'content-type': 'application/json'}
                      })
                        .then(response => response.json())
                        .then(json => console.log(json))
                        //.catch(err => console.error(err))
                });
                listItem.appendChild(Knopf);
                //listItem.appendChild(Schrift);
                if (item.bought){listItem.appendChild(Buttonchecked); 
                  Knopf.addEventListener('click',function deletos()
                {
                    console.log(item._id)
                    console.log(listId)
                    var apiUrl2 = "https://shopping-lists-api.herokuapp.com/api/v1/lists/" + listId + "/items/"+ item._id;
                    fetch(apiUrl2, {method: 'PUT',
                      headers:
                        {'content-type': 'application/json'}
                      })
                        .then(response => response.json())
                        .then(json => console.log(json))
                        //.catch(err => console.error(err))
                });}
                else{listItem.appendChild(Buttoncheck);
                  Knopf.addEventListener('click',function deletos()
                {
                    console.log(item._id)
                    console.log(listId)
                    var apiUrl2 = "https://shopping-lists-api.herokuapp.com/api/v1/lists/" + listId + "/items/"+ item._id;
                    fetch(apiUrl2, {method: 'PUT',
                      headers:
                        {'content-type': 'application/json'}
                      })
                        .then(response => response.json())
                        .then(json => console.log(json))
                        //.catch(err => console.error(err))
                });}
                
                ul.appendChild(listItem);
                
            });

            document.getElementById("inhaltDerSeite").appendChild(ul);
        }

        function clearContent()
        {
            document.getElementById("inhaltDerSeite").innerHTML="";
        }
        

        
    </script>

    <script>
    const body = document.querySelector("body");
    const input = document.getElementById("colorPicker");
    const colorCode = document.getElementById("colorCode");

    setColor();
    input.addEventListener("input", setColor);

    function setColor() {
      body.style.backgroundColor = input.value;
      colorCode.innerHTML = input.value;
    }
    </script>
 
   
  </body>
</html>